---
# default variables for openssh
openssh_user: openssh

global_config_dir: /etc/ssh

service_name: sshd
service_package: openssh
service_config_file: sshd_config

client_config_file: ssh_config

global_knownhosts_file: ssh_known_hosts
user_knownhosts_file: known_hosts

authorized_keys_file: authorized_keys

managed_configs:
  - service
  - client
  - known_hosts
  - authorized_keys
  - user_identities

config:
  service:
    # user authentication
    PasswordAuthentication: "no"
    ChallengeResponseAuthentication: "no"
    PubKeyAuthentication: "yes"
    # session privacy and data-integrity
    Ciphers: "chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr"
    MACs: "hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,umac-128@openssh.com"
    # session management
    ClientAliveInterval: "300"
    ClientAliveCountMax: "2"
  client:
    global:
      '*':
        options:
          # ssh-agent management
          ForwardAgent: "yes"
          AddKeysToAgent: "yes"
          # client host key connection algorithm preferences
          HostKeyAlgorithms: "ssh-ed25519-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ssh-ed25519,ssh-rsa"
